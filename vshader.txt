#version 330

uniform mat4 P;
uniform mat4 V;
uniform mat4 M;

in vec4 vertex;
in vec4 color;
in vec4 normal;
in vec2 texCoords0;

vec4 lp=vec4(0,0,7,1);

out vec4 iV;
out vec4 iN;
out vec4 iL;
out vec2 iTexCoords0;

void main(void) {
	gl_Position=P*V*M*vertex;
	iN=normalize(V*M*normal);
	iV=normalize(vec4(0,0,0,1)-V*M*vertex);
	iL=normalize(V*lp-V*M*vertex);
	iTexCoords0=texCoords0;
}